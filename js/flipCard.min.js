(function(b){b(document).ready(function(){function n(){for(var a=document.createElement("div"),e=!1,b=["perspectiveProperty","WebkitPerspective"],d=b.length-1;0<=d;d--)e=e?e:void 0!=a.style[b[d]];e&&(b=document.createElement("style"),b.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}",document.getElementsByTagName("head")[0].appendChild(b),a.id="test3d",document.body.appendChild(a),e=3===a.offsetHeight,b.parentNode.removeChild(b),a.parentNode.removeChild(a));return e}function f(a,b){a.stop(!0,
!0);void 0!=a.data("autoflip")&&void 0!=b&&(h[b]=setTimeout(function(){f(a,b)},a.data("autoflip")));"true"!=a.data("mouse")&&(g?(a.find("div.front").fadeToggle(),a.find("div.back").fadeToggle()):"right"===a.data("direction")?a.toggleClass("flipping-right"):"left"===a.data("direction")?a.toggleClass("flipping-left"):"top"===a.data("direction")?a.toggleClass("flipping-top"):"bottom"===a.data("direction")&&a.toggleClass("flipping-bottom"))}function k(){c.each(function(a){$this=b(this);(function(b){var c=
b.data("start");void 0==c&&(c=b.data("autoflip"));h[a]=setTimeout(function(){f(b,a)},c)})($this)})}var g=!1;-1!=function(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/)&&(a=11);return a}()&&(g=!0);(function(){var a=document.createElement("div"),b=["Khtml","Ms","O","Moz","Webkit"],c=b.length;return function(d){if(d in a.style)return!0;
for(d=d.replace(/^[a-z]/,function(a){return a.toUpperCase()});c--;)if(b[c]+d in a.style)return!0;return!1}})()("backfaceVisibility")||(g=!0);is_chrome=-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&!!window.chrome;is_safari=-1<navigator.userAgent.toLowerCase().indexOf("safari")&&!window.chrome;if(is_chrome||is_safari)n()||(g=!0);g&&(jQuery("div.card-container").addClass("noCSS3Container"),jQuery(".card").addClass("noCSS3Card"),jQuery(".card").children("div").addClass("noCSS3Sides"),jQuery(".back").hide());
b(".over").parents(".card-container").on("mouseenter",function(){$this=b(this);$this.hasClass("mouseenter")||$this.addClass("mouseenter");f($this.find(".over"))});b(".over").parents(".card-container").on("mouseleave",function(){$this=b(this);$this.hasClass("mouseenter")&&f($this.find(".over"))});b(".click").on("click",function(){$this=b(this);f($this)});b(".click").on("click",".ignoreEvent",function(a){a.stopPropagation()});b(".card").on("click",".cbutton",function(a){a.preventDefault();$this=b(this);
f($this.parents(".card"))});var h=[],c=b(".card[data-autoflip]");k();var l=function(){for(var a=0;a<h.length;a++)clearTimeout(h[a]);c.removeClass("flipping-right");c.removeClass("flipping-left");c.removeClass("flipping-top");c.removeClass("flipping-bottom");k()};window.addEventListener?window.addEventListener("focus",l,!1):window.attachEvent&&window.attachEvent("onfocus",l);c.on("mouseenter",function(){b(this).data("mouse","true")});c.on("mouseleave",function(){b(this).data("mouse","false")});var m=
function(){b(".card-container").each(function(){var a=b(this);var c=a.data("ratio");""!=c&&void 0!=c&&(c.split(":"),c.split(":"),a.width(),window.getComputedStyle&&getComputedStyle(a[0],null),a.height(a.outerWidth()))})};m();b(window).on("resize",function(){m()})})})(jQuery);
